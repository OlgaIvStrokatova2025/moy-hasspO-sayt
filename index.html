<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>–•–ê–°–°–ü –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</title>
    <meta name="description" content="–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –•–ê–°–°–ü –∑–∞ 30-45 –º–∏–Ω—É—Ç">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }
        
        h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #333;
        }
        
        h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #667eea;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            gap: 8px;
            min-height: 48px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: #333;
            border: 2px solid rgba(102, 126, 234, 0.3);
            text-align: center;
            line-height: 1.4;
        }
        
        .btn-secondary:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
        }
        
        .btn-secondary.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }
        
        .btn-large {
            padding: 18px 36px;
            font-size: 1.2rem;
            border-radius: 15px;
        }
        
        .grid {
            display: grid;
            gap: 15px;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.3s ease;
        }
        
        .input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input.error {
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }
        
        .step-indicator {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            gap: 20px;
        }
        
        .step {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.3);
            color: #666;
            transition: all 0.3s ease;
        }
        
        .step.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .step.completed {
            background: #28a745;
            color: white;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.5s ease;
            width: 0%;
        }
        
        .step-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .time-indicator {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        
        .hint {
            background: rgba(52, 152, 219, 0.1);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #2980b9;
            animation: fadeIn 0.3s ease;
        }
        
        .warning {
            background: rgba(241, 196, 15, 0.1);
            border: 1px solid rgba(241, 196, 15, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #f39c12;
            animation: fadeIn 0.3s ease;
        }
        
        .error {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid rgba(231, 76, 60, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #e74c3c;
            animation: fadeIn 0.3s ease;
        }
        
        .text-center {
            text-align: center;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(102, 126, 234, 0.3);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 30px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .price-block {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }
        
        .old-price {
            font-size: 1.2rem;
            color: #999;
            text-decoration: line-through;
        }
        
        .new-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: #667eea;
        }
        
        .discount-badge {
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }
        
        .validation-messages {
            margin-top: 20px;
        }
        
        .validation-message {
            padding: 10px 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            animation: fadeIn 0.3s ease;
        }
        
        .validation-message.error {
            background: rgba(231, 76, 60, 0.1);
            border: 1px solid #e74c3c;
            color: #e74c3c;
        }
        
        label {
            font-weight: 600;
            color: #555;
        }
        
        small {
            opacity: 0.7;
            font-size: 0.85rem;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .card {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .grid, .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .step-indicator {
                gap: 10px;
            }
            
            .step {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="welcome">
            <h1>üõ°Ô∏è –•–ê–°–°–ü –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</h1>
            <div class="card text-center">
                <h2>–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –•–ê–°–°–ü –∑–∞ 30-45 –º–∏–Ω—É—Ç</h2>
                <p style="margin-bottom: 30px; font-size: 1.1rem; opacity: 0.9;">
                    –ü–æ–ª–Ω—ã–π –ø–∞–∫–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –≤–∞—à–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ
                </p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üìã</div>
                        <strong>–ü–ª–∞–Ω –•–ê–°–°–ü</strong><br>
                        20-40 —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–¥ –≤–∞—à–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <strong>–ñ—É—Ä–Ω–∞–ª—ã –∫–æ–Ω—Ç—Ä–æ–ª—è</strong><br>
                        –¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤–∞—Å
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üë•</div>
                        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</strong><br>
                        –ü–æ–¥ –≤–∞—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–∞–Ω–¥—ã
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üéØ</div>
                        <strong>–ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤</strong><br>
                        –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚úÖ</div>
                        <strong>–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–≤–µ—Ä–∫–∞–º</strong><br>
                        –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –†–ü–ù
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìö</div>
                        <strong>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è</strong><br>
                        –î–ª—è –≤–∞—à–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
                    </div>
                </div>
                
                <div class="time-indicator">
                    <h3>‚è±Ô∏è –í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: 30-45 –º–∏–Ω—É—Ç</h3>
                    <p>–ú–∞–∫—Å–∏–º—É–º –≤—ã–ø–∞–¥–∞—é—â–∏—Ö —Å–ø–∏—Å–∫–æ–≤, –º–∏–Ω–∏–º—É–º —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞</p>
                </div>
                
                <button class="btn btn-primary btn-large" onclick="startForm()">
                    üöÄ –ù–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –•–ê–°–°–ü
                </button>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –æ–ø—Ä–æ—Å–Ω–∏–∫–∞ -->
        <div id="form" class="hidden">
            <div class="step-indicator">
                <div class="step active" id="step-1">1</div>
                <div class="step" id="step-2">2</div>
                <div class="step" id="step-3">3</div>
                <div class="step" id="step-4">4</div>
                <div class="step" id="step-5">5</div>
                <div class="step" id="step-6">6</div>
                <div class="step" id="step-7">7</div>
                <div class="step" id="step-8">8</div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="card">
                <div class="step-header">
                    <h2 id="stepTitle">–ë–ª–æ–∫ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è</h2>
                    <p id="stepSubtitle">–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç</p>
                </div>
                
                <div id="stepContent">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è JavaScript -->
                </div>
                
                <div id="hintsContainer"></div>
                
                <div class="validation-messages" id="validationMessages"></div>
                
                <div class="nav-buttons">
                    <button id="backBtn" class="btn btn-secondary" onclick="prevStep()" style="display: none;">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                    <button id="nextBtn" class="btn btn-primary" onclick="nextStep()">
                        –î–∞–ª–µ–µ ‚Üí
                    </button>
                </div>
            </div>
        </div>

        <!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è -->
        <div id="generating" class="hidden">
            <div class="card text-center">
                <div class="spinner"></div>
                <h2>–°–æ–∑–¥–∞–µ–º –≤–∞—à—É –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –•–ê–°–°–ü...</h2>
                <p id="genStatus">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è...</p>
                <div class="progress-bar">
                    <div id="genProgress" class="progress-fill"></div>
                </div>
                <div id="genDetails" style="margin-top: 20px; opacity: 0.8;">
                    –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏–∏...
                </div>
            </div>
        </div>

        <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
        <div id="result" class="hidden">
            <div class="card text-center">
                <h1>üèÜ –°–∏—Å—Ç–µ–º–∞ –•–ê–°–°–ü –≥–æ—Ç–æ–≤–∞!</h1>
                <h2 id="resultBusinessName">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è</h2>
                
                <div id="resultPreview" style="margin: 30px 0;">
                    <!-- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript -->
                </div>
                
                <div class="price-block">
                    <span class="old-price">19,990‚ÇΩ</span>
                    <span class="new-price">9,990‚ÇΩ</span>
                    <span class="discount-badge">–°–ö–ò–î–ö–ê 50%</span>
                </div>
                
                <input type="email" id="email" class="input" 
                       placeholder="üìß –í–∞—à email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤" 
                       style="max-width: 400px; margin: 20px auto; display: block;">
                
                <button class="btn btn-primary btn-large" onclick="purchase()">
                    üí≥ –û–ø–ª–∞—Ç–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã
                </button>
                
                <p style="margin-top: 15px; opacity: 0.8; font-size: 0.9rem;">
                    üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ ‚Ä¢ üí≥ –í—Å–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã ‚Ä¢ ‚Ü©Ô∏è –í–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π
                </p>
            </div>
        </div>
    </div>
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentStep = 1;
        let formData = {};
        let validationErrors = {};

        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —à–∞–≥–æ–≤
        const STEPS_CONFIG = [
            {
                id: 1,
                title: "–ë–ª–æ–∫ 1: –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç",
                fields: ['businessName', 'legalForm', 'inn', 'phone', 'legalAddress', 'directorName', 'businessEmail']
            },
            {
                id: 2,
                title: "–ë–ª–æ–∫ 2: –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–µ–¥–µ–Ω–∏—è",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~10 –º–∏–Ω—É—Ç", 
                fields: ['businessType', 'seatingCapacity', 'kitchenArea', 'staffCount', 'workSchedule', 'additionalServices']
            },
            {
                id: 3,
                title: "–ë–ª–æ–∫ 3: –ö—É—Ö–Ω—è –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~10 –º–∏–Ω—É—Ç",
                fields: ['productionType', 'cuisineSpecialization', 'kitchenLayout', 'productionZones', 'dishwareType']
            },
            {
                id: 4,
                title: "–ë–ª–æ–∫ 4: –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞", 
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~10 –º–∏–Ω—É—Ç",
                fields: ['heatingEquipment', 'coolingEquipment', 'equipmentMaintenance', 'controlInstruments']
            },
            {
                id: 5,
                title: "–ë–ª–æ–∫ 5: –£–±–æ—Ä–∫–∞ –∏ —Å–∞–Ω–∏—Ç–∞—Ä–∏—è",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç",
                fields: ['cleaningOrganization', 'cleaningSupplier', 'cleaningInventory']
            },
            {
                id: 6,
                title: "–ë–ª–æ–∫ 6: –ú–µ–Ω—é –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~10 –º–∏–Ω—É—Ç", 
                fields: ['technicalCards', 'menuCategories', 'cookingFeatures']
            },
            {
                id: 7,
                title: "–ë–ª–æ–∫ 7: –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –∏ –ª–æ–≥–∏—Å—Ç–∏–∫–∞",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç",
                fields: ['suppliersCount', 'deliverySchedule', 'goodsAcceptance', 'documentation']
            },
            {
                id: 8,
                title: "–ë–ª–æ–∫ 8: –ü–µ—Ä—Å–æ–Ω–∞–ª",
                subtitle: "–í—Ä–µ–º—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è: ~5 –º–∏–Ω—É—Ç",
                fields: ['staffStructure', 'staffTraining', 'staffTurnover']
            }
        ];

        // –°—Ç–∞—Ä—Ç —Ñ–æ—Ä–º—ã
        function startForm() {
            console.log('üöÄ –ó–∞–ø—É—Å–∫ —Ñ–æ—Ä–º—ã');
            document.getElementById('welcome').classList.add('hidden');
            document.getElementById('form').classList.remove('hidden');
            loadSavedData();
            showStep(1);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —à–∞–≥
        function showStep(step) {
            currentStep = step;
            updateStepIndicator();
            updateProgressBar();
            updateStepHeader();
            loadStepContent(step);
            updateNavigationButtons();
            clearValidationMessages();
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            setTimeout(() => restoreStepData(step), 100);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —à–∞–≥–∞
        function loadStepContent(step) {
            const stepContent = document.getElementById('stepContent');
            let content = '';

            switch(step) {
                case 1:
                    content = generateStep1Content();
                    break;
                case 2:
                    content = generateStep2Content();
                    break;
                case 3:
                    content = generateStep3Content();
                    break;
                case 4:
                    content = generateStep4Content();
                    break;
                case 5:
                    content = generateStep5Content();
                    break;
                case 6:
                    content = generateStep6Content();
                    break;
                case 7:
                    content = generateStep7Content();
                    break;
                case 8:
                    content = generateStep8Content();
                    break;
            }

            stepContent.innerHTML = content;
            
            // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –∫ –Ω–æ–≤—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
            attachEventListeners();
        }

        // –ü—Ä–∏–≤—è–∑–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function attachEventListeners() {
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π
            const inputs = document.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('input', () => {
                    saveFieldData(input);
                    validateField(input);
                });
                input.addEventListener('blur', () => validateField(input));
            });
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—è
        function saveFieldData(input) {
            if (input.type === 'checkbox') {
                if (!formData[input.name]) formData[input.name] = [];
                if (input.checked && !formData[input.name].includes(input.value)) {
                    formData[input.name].push(input.value);
                } else if (!input.checked) {
                    formData[input.name] = formData[input.name].filter(v => v !== input.value);
                }
            } else {
                formData[input.id || input.name] = input.value;
            }
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
            autoSaveFormData();
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—è
        function validateField(input) {
            const fieldName = input.id || input.name;
            const value = input.value.trim();
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
            delete validationErrors[fieldName];
            input.classList.remove('error');
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
            if (input.hasAttribute('required') && !value) {
                validationErrors[fieldName] = '–≠—Ç–æ –ø–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';
                input.classList.add('error');
                return false;
            }
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
            switch(fieldName) {
                case 'inn':
                    if (value && !/^\d{10}$|^\d{12}$/.test(value.replace(/\D/g, ''))) {
                        validationErrors[fieldName] = '–ò–ù–ù –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 10 –∏–ª–∏ 12 —Ü–∏—Ñ—Ä';
                        input.classList.add('error');
                        return false;
                    }
                    break;
                case 'businessEmail':
                case 'email':
                    if (value && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                        validationErrors[fieldName] = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å';
                        input.classList.add('error');
                        return false;
                    }
                    break;
                case 'phone':
                    if (value && !/^\+?[0-9\s\-\(\)]{10,}$/.test(value)) {
                        validationErrors[fieldName] = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';
                        input.classList.add('error');
                        return false;
                    }
                    break;
            }
            
            return true;
        }

        // –§—É–Ω–∫—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ –æ–ø—Ü–∏–π
        function selectOption(field, value, button) {
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ –≥—Ä—É–ø–ø–µ
            const group = button.parentElement;
            group.querySelectorAll('.btn-secondary').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–µ
            button.classList.add('active');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
            formData[field] = value;
            console.log('–í—ã–±—Ä–∞–Ω–æ:', field, '=', value);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
            showSmartHints(field, value);
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            autoSaveFormData();
        }

        function toggleOption(field, value, button) {
            if (!formData[field]) formData[field] = [];
            
            const index = formData[field].indexOf(value);
            if (index > -1) {
                formData[field].splice(index, 1);
                button.classList.remove('active');
            } else {
                formData[field].push(value);
                button.classList.add('active');
            }
            
            console.log('–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ:', field, '=', formData[field]);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
            showSmartHints(field, formData[field]);
            
            // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            autoSaveFormData();
        }

        // –£–º–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó)
        function showSmartHints(field, value) {
            const hintsContainer = document.getElementById('hintsContainer');
            if (!hintsContainer) return;
            
            let hint = '';
            
            switch(field) {
                case 'businessType':
                    const businessHints = {
                        'coffeehouse': '–î–ª—è –∫–æ—Ñ–µ–µ–Ω –¥–æ–±–∞–≤–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ—Ñ–µ, –º–æ–ª–æ—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è –∫–æ—Ñ–µ–º–∞—à–∏–Ω',
                        'delivery': '–î–æ–±–∞–≤–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —É–ø–∞–∫–æ–≤–∫–µ, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ',
                        'bar': '–î–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—Ü–µ–Ω–∑–∏–π –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∞–ª–∫–æ–≥–æ–ª—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞–ø–∏—Ç–∫–æ–≤',
                        'bakery': '–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å—ã—Ä—å—è –¥–ª—è –≤—ã–ø–µ—á–∫–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö'
                    };
                    hint = businessHints[value];
                    break;
                    
                case 'productionType':
                    const productionHints = {
                        'semi': '–û—Ç–ª–∏—á–Ω–æ! –≠—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É –•–ê–°–°–ü ‚Äî –º–Ω–æ–≥–∏–µ —ç—Ç–∞–ø—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è',
                        'full': '–î–æ–±–∞–≤–∏–º –≤—Å–µ —ç—Ç–∞–ø—ã: –æ—Ç –ø—Ä–∏–µ–º–∫–∏ —Å—ã—Ä—å—è –¥–æ –ø–æ–¥–∞—á–∏ –≥–æ—Ç–æ–≤—ã—Ö –±–ª—é–¥. –°–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π',
                        'ready': '–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö –ø—Ä–∏–µ–º–∫–∏, —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏'
                    };
                    hint = productionHints[value];
                    break;
                    
                case 'cuisineSpecialization':
                    if (Array.isArray(value)) {
                        const hints = [];
                        if (value.includes('asian')) hints.push('–î–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è —Å—ã—Ä–æ–π —Ä—ã–±—ã (—Å—É—à–∏), —Å–æ–µ–≤—ã—Ö —Å–æ—É—Å–æ–≤ –∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤');
                        if (value.includes('children')) hints.push('–£—Å–∏–ª–∏–º —Å–∞–Ω–∏—Ç–∞—Ä–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –¥–æ–±–∞–≤–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∞–ª–ª–µ—Ä–≥–µ–Ω–æ–≤');
                        if (value.includes('vegan')) hints.push('–î–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–≥–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏');
                        if (value.includes('diet')) hints.push('–£—Å–∏–ª–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç–∏ –∏ –ø–∏—â–µ–≤–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –±–ª—é–¥');
                        hint = hints.join('<br>');
                    }
                    break;
                    
                case 'additionalServices':
                    if (Array.isArray(value)) {
                        const hints = [];
                        if (value.includes('alcohol')) hints.push('–î–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏—Ü–µ–Ω–∑–∏–π –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∞–ª–∫–æ–≥–æ–ª—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞–ø–∏—Ç–∫–æ–≤');
                        if (value.includes('childEvents')) hints.push('–£—Å–∏–ª–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≥–∏–≥–∏–µ–Ω–µ –∏ –¥–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è –¥–µ—Ç—Å–∫–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è');
                        if (value.includes('catering')) hints.push('–î–æ–±–∞–≤–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤–Ω–µ –∑–∞–≤–µ–¥–µ–Ω–∏—è');
                        if (value.includes('ownDelivery')) hints.push('–î–æ–±–∞–≤–∏–º –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤–∫–µ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É');
                        hint = hints.join('<br>');
                    }
                    break;
            }
            
            if (hint) {
                hintsContainer.innerHTML = `
                    <div class="hint">
                        üí° <strong>–£–º–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞:</strong> ${hint}
                    </div>
                `;
            } else {
                hintsContainer.innerHTML = '';
            }
        }

        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function nextStep() {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            saveCurrentStepData();
            
            // –í–∞–ª–∏–¥–∏—Ä—É–µ–º —Ç–µ–∫—É—â–∏–π —à–∞–≥
            if (!validateCurrentStep()) {
                showValidationErrors();
                return;
            }
            
            if (currentStep < 8) {
                showStep(currentStep + 1);
            } else {
                generateDocuments();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                saveCurrentStepData();
                showStep(currentStep - 1);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
        function saveCurrentStepData() {
            const stepContainer = document.getElementById('stepContent');
            if (!stepContainer) return;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ –ø–æ–ª—è –≤–≤–æ–¥–∞
            const inputs = stepContainer.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                saveFieldData(input);
            });
        }

        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —à–∞–≥–∞
        function restoreStepData(step) {
            const stepContainer = document.getElementById('stepContent');
            if (!stepContainer) return;
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–µ–π
            const inputs = stepContainer.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                const fieldName = input.id || input.name;
                if (formData[fieldName] !== undefined) {
                    if (input.type === 'checkbox') {
                        input.checked = Array.isArray(formData[fieldName]) 
                            ? formData[fieldName].includes(input.value)
                            : formData[fieldName] === input.value;
                    } else {
                        input.value = formData[fieldName];
                    }
                }
            });
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            const buttons = stepContainer.querySelectorAll('.btn-secondary');
            buttons.forEach(button => {
                const fieldName = button.getAttribute('data-field');
                const value = button.getAttribute('data-value');
                const isMultiple = button.getAttribute('data-multiple') === 'true';
                
                if (fieldName && value && formData[fieldName] !== undefined) {
                    if (isMultiple) {
                        if (Array.isArray(formData[fieldName]) && formData[fieldName].includes(value)) {
                            button.classList.add('active');
                        }
                    } else {
                        if (formData[fieldName] === value) {
                            button.classList.add('active');
                        }
                    }
                }
            });
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
        function validateCurrentStep() {
            const stepConfig = STEPS_CONFIG[currentStep - 1];
            let isValid = true;
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –æ—à–∏–±–∫–∏
            validationErrors = {};
            
            // –í–∞–ª–∏–¥–∏—Ä—É–µ–º –ø–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞
            stepConfig.fields.forEach(fieldName => {
                const fieldElement = document.getElementById(fieldName) || 
                                   document.querySelector(`[name="${fieldName}"]`);
                
                if (fieldElement && fieldElement.hasAttribute('required')) {
                    if (!validateField(fieldElement)) {
                        isValid = false;
                    }
                }
            });
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
            isValid = validateStepLogic(currentStep) && isValid;
            
            return isValid;
        }

        // –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º
        function validateStepLogic(step) {
            let isValid = true;
            
            switch(step) {
                case 1:
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –±–ª–æ–∫–∞ 1
                    const requiredFields1 = ['businessName', 'legalForm', 'inn', 'phone', 'legalAddress', 'directorName', 'businessEmail'];
                    requiredFields1.forEach(field => {
                        if (!formData[field] || formData[field].trim() === '') {
                            validationErrors[field] = '–ü–æ–ª–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';
                            isValid = false;
                        }
                    });
                    break;
                    
                case 2:
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –∑–∞–≤–µ–¥–µ–Ω–∏—è
                    if (formData.businessType === 'restaurant' && formData.seatingCapacity === 'none') {
                        validationErrors.seatingCapacity = '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –∑–∞–ª –¥–ª—è –≥–æ—Å—Ç–µ–π';
                        isValid = false;
                    }
                    
                    if (formData.seatingCapacity === '200+' && formData.kitchenArea === 'up20') {
                        validationErrors.kitchenArea = '–î–ª—è 200+ –≥–æ—Å—Ç–µ–π –∫—É—Ö–Ω—è –∫–∞–∂–µ—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–æ–π';
                        isValid = false;
                    }
                    break;
                    
                case 3:
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–æ–Ω
                    if (!formData.productionZones || !formData.productionZones.includes('restroom')) {
                        validationErrors.productionZones = '–°–∞–Ω—É–∑–µ–ª –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –ø–æ –°–∞–Ω–ü–∏–ù';
                        isValid = false;
                    }
                    break;
                    
                case 5:
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ—é—â–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤
                    if (formData.cleaningSupplier === 'folk') {
                        validationErrors.cleaningSupplier = '–ù–∞—Ä–æ–¥–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –¥–ª—è –ø–∏—â–µ–≤—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π';
                        isValid = false;
                    }
                    break;
                    
                case 7:
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞
                    if (formData.documentation && formData.documentation.includes('minimal')) {
                        validationErrors.documentation = '–ü—Ä–∏–µ–º–∫–∞ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∞ –¥–ª—è –ø–∏—â–µ–≤—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π';
                        isValid = false;
                    }
                    break;
            }
            
            return isValid;
        }

        // –ü–æ–∫–∞–∑ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        function showValidationErrors() {
            const container = document.getElementById('validationMessages');
            if (!container || Object.keys(validationErrors).length === 0) return;
            
            const errorHtml = Object.entries(validationErrors).map(([field, error]) => 
                `<div class="validation-message error">‚ùå ${error}</div>`
            ).join('');
            
            container.innerHTML = errorHtml;
            
            // –°–∫—Ä–æ–ª–ª–∏–º –∫ –æ—à–∏–±–∫–∞–º
            container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // –û—á–∏—Å—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        function clearValidationMessages() {
            const container = document.getElementById('validationMessages');
            if (container) {
                container.innerHTML = '';
            }
        }

        // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
        function autoSaveFormData() {
            try {
                localStorage.setItem('haccpFormData', JSON.stringify(formData));
                localStorage.setItem('haccpCurrentStep', currentStep.toString());
            } catch (e) {
                console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:', e);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        function loadSavedData() {
            try {
                const savedData = localStorage.getItem('haccpFormData');
                const savedStep = localStorage.getItem('haccpCurrentStep');
                
                if (savedData) {
                    formData = JSON.parse(savedData);
                    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', formData);
                }
                
                if (savedStep) {
                    currentStep = parseInt(savedStep);
                }
                
                return Object.keys(formData).length > 0;
            } catch (e) {
                console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', e);
                return false;
            }
        }
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —à–∞–≥–æ–≤
        function generateStep1Content() {
            return `
                <h3>1.1 –†–µ–∫–≤–∏–∑–∏—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h3>
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                        <input type="text" id="businessName" class="input" placeholder="–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö" required>
                        <small>üí¨ –í–ª–∏—è–µ—Ç –Ω–∞ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –•–ê–°–°–ü</small>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ-–ø—Ä–∞–≤–æ–≤–∞—è —Ñ–æ—Ä–º–∞ *</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('legalForm', 'ip', this)" data-field="legalForm" data-value="ip">–ò–ü</button>
                            <button class="btn btn-secondary" onclick="selectOption('legalForm', 'ooo', this)" data-field="legalForm" data-value="ooo">–û–û–û</button>
                            <button class="btn btn-secondary" onclick="selectOption('legalForm', 'ao', this)" data-field="legalForm" data-value="ao">–ê–û</button>
                            <button class="btn btn-secondary" onclick="selectOption('legalForm', 'other', this)" data-field="legalForm" data-value="other">–î—Ä—É–≥–æ–µ</button>
                        </div>
                        <small>üí° –í–ª–∏—è–µ—Ç –Ω–∞ –ø–µ—Ä–µ—á–µ–Ω—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –•–ê–°–°–ü</small>
                    </div>
                </div>
                
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ò–ù–ù *</label>
                        <input type="text" id="inn" class="input" placeholder="1234567890" maxlength="12" required>
                        <small>‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ò–ù–ù</small>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                        <input type="tel" id="phone" class="input" placeholder="+7 (999) 123-45-67" required>
                    </div>
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å *</label>
                    <input type="text" id="legalAddress" class="input" placeholder="–ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏" required>
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å –∑–∞–≤–µ–¥–µ–Ω–∏—è</label>
                    <input type="text" id="actualAddress" class="input" placeholder="–ê–¥—Ä–µ—Å, –≥–¥–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≤–µ–¥–µ–Ω–∏–µ">
                    <label style="display: flex; align-items: center; margin-top: 10px; cursor: pointer;">
                        <input type="checkbox" id="sameAddress" style="margin-right: 10px;" onchange="toggleSameAddress()">
                        <span>–°–æ–≤–ø–∞–¥–∞–µ—Ç —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –∞–¥—Ä–µ—Å–æ–º</span>
                    </label>
                </div>
                
                <h3>1.2 –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–§–ò–û —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è *</label>
                        <input type="text" id="directorName" class="input" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–î–æ–ª–∂–Ω–æ—Å—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è *</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('directorPosition', 'director', this)" data-field="directorPosition" data-value="director">–î–∏—Ä–µ–∫—Ç–æ—Ä</button>
                            <button class="btn btn-secondary" onclick="selectOption('directorPosition', 'manager', this)" data-field="directorPosition" data-value="manager">–£–ø—Ä–∞–≤–ª—è—é—â–∏–π</button>
                            <button class="btn btn-secondary" onclick="selectOption('directorPosition', 'owner', this)" data-field="directorPosition" data-value="owner">–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫</button>
                        </div>
                    </div>
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">Email *</label>
                    <input type="email" id="businessEmail" class="input" placeholder="info@restaurant.ru" required>
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –•–ê–°–°–ü *</label>
                    <div class="grid">
                        <button class="btn btn-secondary" onclick="selectOption('haccpResponsible', 'same', this)" data-field="haccpResponsible" data-value="same">–¢–æ—Ç –∂–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å</button>
                        <button class="btn btn-secondary" onclick="selectOption('haccpResponsible', 'other', this)" data-field="haccpResponsible" data-value="other">–î—Ä—É–≥–æ–µ –ª–∏—Ü–æ</button>
                    </div>
                    <div id="otherResponsible" class="hidden" style="margin-top: 15px;">
                        <input type="text" id="haccpResponsibleName" class="input" placeholder="–§–ò–û –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞ –•–ê–°–°–ü" style="margin-bottom: 10px;">
                        <input type="text" id="haccpResponsiblePosition" class="input" placeholder="–î–æ–ª–∂–Ω–æ—Å—Ç—å">
                    </div>
                    <small>üí° –ü–æ –∑–∞–∫–æ–Ω—É –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ –∑–∞ –ø–∏—â–µ–≤—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</small>
                </div>
            `;
        }

        function generateStep2Content() {
            return `
                <h3>2.1 –¢–∏–ø –∏ —Ñ–æ—Ä–º–∞—Ç –∑–∞–≤–µ–¥–µ–Ω–∏—è</h3>
                <p style="margin-bottom: 15px;">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è:</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'restaurant', this)" data-field="businessType" data-value="restaurant">
                        üçΩÔ∏è <strong>–†–µ—Å—Ç–æ—Ä–∞–Ω</strong><br>
                        <small>–ü–æ–ª–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, —à–∏—Ä–æ–∫–∞—è –∫—É—Ö–Ω—è</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'cafe', this)" data-field="businessType" data-value="cafe">
                        ‚òï <strong>–ö–∞—Ñ–µ</strong><br>
                        <small>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –º–µ–Ω—é, –±—ã—Å—Ç—Ä–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'canteen', this)" data-field="businessType" data-value="canteen">
                        üçõ <strong>–°—Ç–æ–ª–æ–≤–∞—è</strong><br>
                        <small>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –æ–±–µ–¥—ã, —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'coffeehouse', this)" data-field="businessType" data-value="coffeehouse">
                        ‚òï <strong>–ö–æ—Ñ–µ–π–Ω—è</strong><br>
                        <small>–ö–æ—Ñ–µ, –ª–µ–≥–∫–∏–µ –∑–∞–∫—É—Å–∫–∏, –¥–µ—Å–µ—Ä—Ç—ã</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'bar', this)" data-field="businessType" data-value="bar">
                        üç∏ <strong>–ë–∞—Ä</strong><br>
                        <small>–ù–∞–ø–∏—Ç–∫–∏ + –ª–µ–≥–∫–∏–µ –∑–∞–∫—É—Å–∫–∏</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'fastfood', this)" data-field="businessType" data-value="fastfood">
                        üçî <strong>–§–∞—Å—Ç—Ñ—É–¥</strong><br>
                        <small>–ë—ã—Å—Ç—Ä–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'delivery', this)" data-field="businessType" data-value="delivery">
                        üöó <strong>–¢–æ–ª—å–∫–æ –¥–æ—Å—Ç–∞–≤–∫–∞</strong><br>
                        <small>–¢–µ–º–Ω–∞—è –∫—É—Ö–Ω—è, –±–µ–∑ –∑–∞–ª–∞</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('businessType', 'bakery', this)" data-field="businessType" data-value="bakery">
                        ü•ê <strong>–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∞—è/–ü–µ–∫–∞—Ä–Ω—è</strong><br>
                        <small>–í—ã–ø–µ—á–∫–∞, –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è</small>
                    </button>
                </div>
                
                <h3>2.2 –†–∞–∑–º–µ—Ä –∑–∞–≤–µ–¥–µ–Ω–∏—è</h3>
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ü–æ—Å–∞–¥–æ—á–Ω—ã—Ö –º–µ—Å—Ç</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', 'none', this)" data-field="seatingCapacity" data-value="none">–ë–µ–∑ –º–µ—Å—Ç/<br>–ù–∞ –≤—ã–Ω–æ—Å</button>
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', 'up20', this)" data-field="seatingCapacity" data-value="up20">–î–æ 20</button>
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', '21-50', this)" data-field="seatingCapacity" data-value="21-50">21-50</button>
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', '51-100', this)" data-field="seatingCapacity" data-value="51-100">51-100</button>
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', '101-200', this)" data-field="seatingCapacity" data-value="101-200">101-200</button>
                            <button class="btn btn-secondary" onclick="selectOption('seatingCapacity', '200+', this)" data-field="seatingCapacity" data-value="200+">200+</button>
                        </div>
                        <small>üí¨ –í–ª–∏—è–µ—Ç –Ω–∞ –æ–±—ä–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ–¥—É—Ä</small>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ü–ª–æ—â–∞–¥—å –∫—É—Ö–Ω–∏</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('kitchenArea', 'up20', this)" data-field="kitchenArea" data-value="up20">–î–æ 20 –º¬≤</button>
                            <button class="btn btn-secondary" onclick="selectOption('kitchenArea', '21-50', this)" data-field="kitchenArea" data-value="21-50">21-50 –º¬≤</button>
                            <button class="btn btn-secondary" onclick="selectOption('kitchenArea', '51-100', this)" data-field="kitchenArea" data-value="51-100">51-100 –º¬≤</button>
                            <button class="btn btn-secondary" onclick="selectOption('kitchenArea', '100+', this)" data-field="kitchenArea" data-value="100+">100+ –º¬≤</button>
                        </div>
                    </div>
                </div>
                
                <div>
                    <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ü–µ—Ä—Å–æ–Ω–∞–ª –Ω–∞ –∫—É—Ö–Ω–µ</label>
                    <div class="grid">
                        <button class="btn btn-secondary" onclick="selectOption('staffCount', '1-2', this)" data-field="staffCount" data-value="1-2">1-2 —á–µ–ª.</button>
                        <button class="btn btn-secondary" onclick="selectOption('staffCount', '3-5', this)" data-field="staffCount" data-value="3-5">3-5 —á–µ–ª.</button>
                        <button class="btn btn-secondary" onclick="selectOption('staffCount', '6-10', this)" data-field="staffCount" data-value="6-10">6-10 —á–µ–ª.</button>
                        <button class="btn btn-secondary" onclick="selectOption('staffCount', '11+', this)" data-field="staffCount" data-value="11+">11+ —á–µ–ª.</button>
                    </div>
                </div>
                
                <h3>2.3 –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h3>
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('workSchedule', 'breakfast-lunch', this)" data-field="workSchedule" data-value="breakfast-lunch">–ó–∞–≤—Ç—Ä–∞–∫+–æ–±–µ–¥<br><small>(6:00-16:00)</small></button>
                            <button class="btn btn-secondary" onclick="selectOption('workSchedule', 'lunch-dinner', this)" data-field="workSchedule" data-value="lunch-dinner">–û–±–µ–¥+—É–∂–∏–Ω<br><small>(11:00-23:00)</small></button>
                            <button class="btn btn-secondary" onclick="selectOption('workSchedule', 'full-day', this)" data-field="workSchedule" data-value="full-day">–ü–æ–ª–Ω—ã–π –¥–µ–Ω—å<br><small>(8:00-22:00)</small></button>
                            <button class="btn btn-secondary" onclick="selectOption('workSchedule', '24-7', this)" data-field="workSchedule" data-value="24-7">–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ<br><small>(24/7)</small></button>
                        </div>
                        <small>üí¨ –í–ª–∏—è–µ—Ç –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</small>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–î–Ω–∏ —Ä–∞–±–æ—Ç—ã</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('workDays', '7days', this)" data-field="workDays" data-value="7days">7 –¥–Ω–µ–π –≤ –Ω–µ–¥–µ–ª—é</button>
                            <button class="btn btn-secondary" onclick="selectOption('workDays', '6days-mon', this)" data-field="workDays" data-value="6days-mon">6 –¥–Ω–µ–π<br><small>(–≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫)</small></button>
                            <button class="btn btn-secondary" onclick="selectOption('workDays', '5days', this)" data-field="workDays" data-value="5days">5 –¥–Ω–µ–π<br><small>(–≤—ã—Ö–æ–¥–Ω—ã–µ —Å–±-–≤—Å)</small></button>
                            <button class="btn btn-secondary" onclick="selectOption('workDays', 'other', this)" data-field="workDays" data-value="other">–î—Ä—É–≥–æ–π –≥—Ä–∞—Ñ–∏–∫</button>
                        </div>
                    </div>
                </div>
                
                <h3>2.4 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏</h3>
                <p style="margin-bottom: 15px;">–û—Ç–º–µ—Ç—å—Ç–µ –≤—Å–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'ownDelivery', this)" data-field="additionalServices" data-value="ownDelivery" data-multiple="true">
                        üöö –î–æ—Å—Ç–∞–≤–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å–∏–ª–∞–º–∏
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'aggregators', this)" data-field="additionalServices" data-value="aggregators" data-multiple="true">
                        üì± –î–æ—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã<br>
                        <small>(–Ø–Ω–¥–µ–∫—Å.–ï–¥–∞, Delivery Club)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'banquets', this)" data-field="additionalServices" data-value="banquets" data-multiple="true">
                        üéâ –ë–∞–Ω–∫–µ—Ç–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'childEvents', this)" data-field="additionalServices" data-value="childEvents" data-multiple="true">
                        üéà –î–µ—Ç—Å–∫–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'catering', this)" data-field="additionalServices" data-value="catering" data-multiple="true">
                        üé™ –ö–µ–π—Ç–µ—Ä–∏–Ω–≥<br>
                        <small>(–≤—ã–µ–∑–¥–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('additionalServices', 'alcohol', this)" data-field="additionalServices" data-value="alcohol" data-multiple="true">
                        üç∑ –ü—Ä–æ–¥–∞–∂–∞ –∞–ª–∫–æ–≥–æ–ª—å–Ω—ã—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤
                    </button>
                </div>
            `;
        }

        function generateStep3Content() {
            return `
                <h3>3.1 –¢–∏–ø –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h3>
                <p style="margin-bottom: 15px;">–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –±–ª—é–¥:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('productionType', 'full', this)" data-field="productionType" data-value="full">
                        ü•ï <strong>–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª</strong><br>
                        <small>–ì–æ—Ç–æ–≤–∏–º –≤—Å–µ —Å –Ω—É–ª—è –∏–∑ —Å—ã—Ä—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('productionType', 'semi', this)" data-field="productionType" data-value="semi">
                        üç≤ <strong>–ü–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã</strong><br>
                        <small>–ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–µ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç—ã + –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('productionType', 'mixed', this)" data-field="productionType" data-value="mixed">
                        üîÑ <strong>–°–º–µ—à–∞–Ω–Ω—ã–π</strong><br>
                        <small>–ß–∞—Å—Ç—å –±–ª—é–¥ —Å –Ω—É–ª—è, —á–∞—Å—Ç—å –∏–∑ –ø–æ–ª—É—Ñ–∞–±—Ä–∏–∫–∞—Ç–æ–≤</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('productionType', 'reheat', this)" data-field="productionType" data-value="reheat">
                        üî• <strong>–¢–æ–ª—å–∫–æ —Ä–∞–∑–æ–≥—Ä–µ–≤</strong><br>
                        <small>–†–∞–∑–æ–≥—Ä–µ–≤ –≥–æ—Ç–æ–≤—ã—Ö –±–ª—é–¥</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('productionType', 'ready', this)" data-field="productionType" data-value="ready">
                        üõí <strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ—Ç–æ–≤—ã—Ö –∏–∑–¥–µ–ª–∏–π</strong><br>
                        <small>–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ –∏–∑–¥–µ–ª–∏—è, –≤—ã–ø–µ—á–∫–∞ –±–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</small>
                    </button>
                </div>
                
                <h3>3.2 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—Ö–Ω–∏</h3>
                <p style="margin-bottom: 15px;">–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ 3-—Ö):</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'european', this)" data-field="cuisineSpecialization" data-value="european" data-multiple="true">
                        üá™üá∫ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'russian', this)" data-field="cuisineSpecialization" data-value="russian" data-multiple="true">
                        üá∑üá∫ –†—É—Å—Å–∫–∞—è/—Å–ª–∞–≤—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'asian', this)" data-field="cuisineSpecialization" data-value="asian" data-multiple="true">
                        ü•¢ –ê–∑–∏–∞—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è<br>
                        <small>(–∫–∏—Ç–∞–π—Å–∫–∞—è, —è–ø–æ–Ω—Å–∫–∞—è, —Ç–∞–π—Å–∫–∞—è)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'eastern', this)" data-field="cuisineSpecialization" data-value="eastern" data-multiple="true">
                        ü•ô –í–æ—Å—Ç–æ—á–Ω–∞—è –∫—É—Ö–Ω—è<br>
                        <small>(–∫–∞–≤–∫–∞–∑—Å–∫–∞—è, —Å—Ä–µ–¥–Ω–µ–∞–∑–∏–∞—Ç—Å–∫–∞—è)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'italian', this)" data-field="cuisineSpecialization" data-value="italian" data-multiple="true">
                        üçï –ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è<br>
                        <small>(–ø–∏—Ü—Ü–∞, –ø–∞—Å—Ç–∞)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'fastfood', this)" data-field="cuisineSpecialization" data-value="fastfood" data-multiple="true">
                        üçî –§–∞—Å—Ç—Ñ—É–¥<br>
                        <small>(–±—É—Ä–≥–µ—Ä—ã, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å —Ñ—Ä–∏)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'vegan', this)" data-field="cuisineSpecialization" data-value="vegan" data-multiple="true">
                        üå± –í–µ–≥–∞–Ω—Å–∫–∞—è/–≤–µ–≥–µ—Ç–∞—Ä–∏–∞–Ω—Å–∫–∞—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'children', this)" data-field="cuisineSpecialization" data-value="children" data-multiple="true">
                        üë∂ –î–µ—Ç—Å–∫–∞—è –∫—É—Ö–Ω—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'diet', this)" data-field="cuisineSpecialization" data-value="diet" data-multiple="true">
                        üíä –î–∏–µ—Ç–∏—á–µ—Å–∫–∞—è –∫—É—Ö–Ω—è
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cuisineSpecialization', 'mixed', this)" data-field="cuisineSpecialization" data-value="mixed" data-multiple="true">
                        üåç –°–º–µ—à–∞–Ω–Ω–∞—è<br>
                        <small>(–±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏)</small>
                    </button>
                </div>
                
                <h3>3.3 –ü–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ –ø–æ–º–µ—â–µ–Ω–∏–π</h3>
                <p style="margin-bottom: 15px;">–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É, –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ—Ö–æ–∂—É—é –Ω–∞ –≤–∞—à—É:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('kitchenLayout', 'linear', this)" data-field="kitchenLayout" data-value="linear">
                        ‚ûñ <strong>–õ–∏–Ω–µ–π–Ω–∞—è –∫—É—Ö–Ω—è</strong><br>
                        <small>–í—Å–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –≤ –ª–∏–Ω–∏—é</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('kitchenLayout', 'l-shaped', this)" data-field="kitchenLayout" data-value="l-shaped">
                        üìê <strong>L-–æ–±—Ä–∞–∑–Ω–∞—è –∫—É—Ö–Ω—è</strong><br>
                        <small>–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –±—É–∫–≤–æ–π L</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('kitchenLayout', 'island', this)" data-field="kitchenLayout" data-value="island">
                        üèùÔ∏è <strong>–û—Å—Ç—Ä–æ–≤–Ω–∞—è –∫—É—Ö–Ω—è</strong><br>
                        <small>–†–∞–±–æ—á–∞—è –∑–æ–Ω–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('kitchenLayout', 'open', this)" data-field="kitchenLayout" data-value="open">
                        üëÅÔ∏è <strong>–û—Ç–∫—Ä—ã—Ç–∞—è –∫—É—Ö–Ω—è</strong><br>
                        <small>–í–∏–¥–Ω–∞ –∏–∑ –∑–∞–ª–∞</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('kitchenLayout', 'separate', this)" data-field="kitchenLayout" data-value="separate">
                        üè¢ <strong>–û—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–µ—Ö–∞</strong><br>
                        <small>–ó–∞–≥–æ—Ç–æ–≤–æ—á–Ω—ã–π, –≥–æ—Ä—è—á–∏–π, —Ö–æ–ª–æ–¥–Ω—ã–π</small>
                    </button>
                </div>
                
                <h3>3.4 –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–æ–Ω—ã</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫–∏–µ –∑–æ–Ω—ã –µ—Å—Ç—å –≤ –≤–∞—à–µ–π –∫—É—Ö–Ω–µ:</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'prep', this)" data-field="productionZones" data-value="prep" data-multiple="true">
                        ü•í –ó–∞–≥–æ—Ç–æ–≤–æ—á–Ω–∞—è –∑–æ–Ω–∞<br>
                        <small>–ü–µ—Ä–≤–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—ã—Ä—å—è</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'hot', this)" data-field="productionZones" data-value="hot" data-multiple="true">
                        üî• –ì–æ—Ä—è—á–∏–π —Ü–µ—Ö<br>
                        <small>–ü–ª–∏—Ç—ã, –¥—É—Ö–æ–≤–∫–∏, —Ñ—Ä–∏—Ç—é—Ä</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'cold', this)" data-field="productionZones" data-value="cold" data-multiple="true">
                        ü•ó –•–æ–ª–æ–¥–Ω—ã–π —Ü–µ—Ö<br>
                        <small>–°–∞–ª–∞—Ç—ã, –∑–∞–∫—É—Å–∫–∏, –¥–µ—Å–µ—Ä—Ç—ã</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'pastry', this)" data-field="productionZones" data-value="pastry" data-multiple="true">
                        üßÅ –ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–π —Ü–µ—Ö
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'bakery', this)" data-field="productionZones" data-value="bakery" data-multiple="true">
                        ü•ñ –ü–µ–∫–∞—Ä—Å–∫–∏–π —Ü–µ—Ö
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'dishWashDining', this)" data-field="productionZones" data-value="dishWashDining" data-multiple="true">
                        üçΩÔ∏è –ú–æ–µ—á–Ω–∞—è —Å—Ç–æ–ª–æ–≤–æ–π –ø–æ—Å—É–¥—ã
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'dishWashKitchen', this)" data-field="productionZones" data-value="dishWashKitchen" data-multiple="true">
                        üç≥ –ú–æ–µ—á–Ω–∞—è –∫—É—Ö–æ–Ω–Ω–æ–π –ø–æ—Å—É–¥—ã
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'dryStorage', this)" data-field="productionZones" data-value="dryStorage" data-multiple="true">
                        üì¶ –°–∫–ª–∞–¥ —Å—É—Ö–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'coldStorage', this)" data-field="productionZones" data-value="coldStorage" data-multiple="true">
                        ‚ùÑÔ∏è –•–æ–ª–æ–¥–∏–ª—å–Ω–∞—è/–º–æ—Ä–æ–∑–∏–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'restroom', this)" data-field="productionZones" data-value="restroom" data-multiple="true">
                        üöª –°–∞–Ω—É–∑–µ–ª –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('productionZones', 'staffArea', this)" data-field="productionZones" data-value="staffArea" data-multiple="true">
                        üëî –û—Ç–¥–µ–ª—å–Ω–∞—è –∑–æ–Ω–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞<br>
                        <small>(—Ä–∞–∑–¥–µ–≤–∞–ª–∫–∞, –¥—É—à)</small>
                    </button>
                </div>
                
                <h3>3.5 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–π –ø–æ—Å—É–¥—ã</h3>
                <p style="margin-bottom: 15px;">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—É—é –ø–æ—Å—É–¥—É:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('dishwareType', 'reusable', this)" data-field="dishwareType" data-value="reusable">
                        üçΩÔ∏è <strong>–¢–æ–ª—å–∫–æ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ—Å—É–¥–∞</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('dishwareType', 'disposable', this)" data-field="dishwareType" data-value="disposable">
                        ü•§ <strong>–¢–æ–ª—å–∫–æ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ—Å—É–¥–∞</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('dishwareType', 'mixed', this)" data-field="dishwareType" data-value="mixed">
                        üîÑ <strong>–°–º–µ—à–∞–Ω–Ω–æ</strong><br>
                        <small>–í –∑–∞–ª–µ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–∞—è, –Ω–∞ –≤—ã–Ω–æ—Å –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('dishwareType', 'choice', this)" data-field="dishwareType" data-value="choice">
                        ‚úÖ <strong>–í—ã–±–æ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É</strong>
                    </button>
                </div>
            `;
        }

        function generateStep4Content() {
            return `
                <h3>4.1 –û—Å–Ω–æ–≤–Ω–æ–µ –∫—É—Ö–æ–Ω–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</h3>
                <h4 style="color: #667eea; font-size: 1.1rem; margin: 20px 0 15px 0;">–¢–µ–ø–ª–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:</h4>
                
                <div class="grid-3">
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="gasStove" onchange="handleEquipmentChange(this)">
                        <span>üî• –ü–ª–∏—Ç–∞ –≥–∞–∑–æ–≤–∞—è</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="electricStove" onchange="handleEquipmentChange(this)">
                        <span>‚ö° –ü–ª–∏—Ç–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="oven" onchange="handleEquipmentChange(this)">
                        <span>üî• –î—É—Ö–æ–≤–æ–π —à–∫–∞—Ñ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="fryer" onchange="handleEquipmentChange(this)">
                        <span>üçü –§—Ä–∏—Ç—é—Ä–Ω–∏—Ü–∞</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="grill" onchange="handleEquipmentChange(this)">
                        <span>üî• –ì—Ä–∏–ª—å</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="heatingEquipment" value="microwave" onchange="handleEquipmentChange(this)">
                        <span>üì° –ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∞—è –ø–µ—á—å</span>
                    </label>
                </div>
                
                <h4 style="color: #667eea; font-size: 1.1rem; margin: 20px 0 15px 0;">–•–æ–ª–æ–¥–∏–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:</h4>
                
                <div class="grid-3">
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="coolingEquipment" value="fridgeCabinet" onchange="handleEquipmentChange(this)">
                        <span>üßä –•–æ–ª–æ–¥–∏–ª—å–Ω—ã–π —à–∫–∞—Ñ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="coolingEquipment" value="freezerCabinet" onchange="handleEquipmentChange(this)">
                        <span>‚ùÑÔ∏è –ú–æ—Ä–æ–∑–∏–ª—å–Ω—ã–π —à–∫–∞—Ñ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="coolingEquipment" value="fridgeCamera" onchange="handleEquipmentChange(this)">
                        <span>üè¢ –•–æ–ª–æ–¥–∏–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="coolingEquipment" value="freezerCamera" onchange="handleEquipmentChange(this)">
                        <span>üßä –ú–æ—Ä–æ–∑–∏–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞</span>
                    </label>
                </div>
                
                <h3>4.2 –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('equipmentMaintenance', 'contract', this)" data-field="equipmentMaintenance" data-value="contract">
                        üìã <strong>–ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ –¥–æ–≥–æ–≤–æ—Ä–∞–º</strong><br>
                        <small>—Å —Å–µ—Ä–≤–∏—Å–Ω—ã–º–∏ –∫–æ–º–ø–∞–Ω–∏—è–º–∏</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('equipmentMaintenance', 'inhouse', this)" data-field="equipmentMaintenance" data-value="inhouse">
                        üîß <strong>–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏</strong><br>
                        <small>–µ—Å—Ç—å —à—Ç–∞—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∫/—ç–ª–µ–∫—Ç—Ä–∏–∫</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('equipmentMaintenance', 'mixed', this)" data-field="equipmentMaintenance" data-value="mixed">
                        üîÑ <strong>–°–º–µ—à–∞–Ω–Ω–æ</strong><br>
                        <small>–º–µ–ª–∫–∏–π —Ä–µ–º–æ–Ω—Ç —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏, –∫—Ä—É–ø–Ω—ã–π –ø–æ –¥–æ–≥–æ–≤–æ—Ä–∞–º</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('equipmentMaintenance', 'breakdown', this)" data-field="equipmentMaintenance" data-value="breakdown">
                        ‚ö†Ô∏è <strong>–ü–æ –º–µ—Ä–µ –ø–æ–ª–æ–º–∫–∏</strong><br>
                        <small>–±–µ–∑ –ø–ª–∞–Ω–æ–≤–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è</small>
                    </button>
                </div>
                
                <h3>4.3 –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ-–∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–±–æ—Ä—ã</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫–∏–µ –ø—Ä–∏–±–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è:</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('controlInstruments', 'productThermometer', this)" data-field="controlInstruments" data-value="productThermometer" data-multiple="true">
                        üå°Ô∏è –¢–µ—Ä–º–æ–º–µ—Ç—Ä—ã –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('controlInstruments', 'fridgeThermometer', this)" data-field="controlInstruments" data-value="fridgeThermometer" data-multiple="true">
                        üßä –¢–µ—Ä–º–æ–º–µ—Ç—Ä—ã –¥–ª—è —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('controlInstruments', 'scales', this)" data-field="controlInstruments" data-value="scales" data-multiple="true">
                        ‚öñÔ∏è –í–µ—Å—ã
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('controlInstruments', 'phMeter', this)" data-field="controlInstruments" data-value="phMeter" data-multiple="true">
                        üß™ pH-–º–µ—Ç—Ä—ã
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('controlInstruments', 'none', this)" data-field="controlInstruments" data-value="none" style="border-color: #ef4444; grid-column: 1 / -1;">
                        ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –ø—Ä–∏–±–æ—Ä—ã
                    </button>
                </div>
            `;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
        function handleEquipmentChange(checkbox) {
            const fieldName = checkbox.name;
            const value = checkbox.value;
            
            if (!formData[fieldName]) formData[fieldName] = [];
            
            if (checkbox.checked) {
                if (!formData[fieldName].includes(value)) {
                    formData[fieldName].push(value);
                }
                checkbox.parentElement.style.borderColor = '#667eea';
                checkbox.parentElement.style.backgroundColor = 'rgba(102, 126, 234, 0.1)';
            } else {
                formData[fieldName] = formData[fieldName].filter(item => item !== value);
                checkbox.parentElement.style.borderColor = '#ddd';
                checkbox.parentElement.style.backgroundColor = 'transparent';
            }
            
            console.log('–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ:', fieldName, '=', formData[fieldName]);
            autoSaveFormData();
        }
        function generateStep5Content() {
            return `
                <h3>5.1 –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —É–±–æ—Ä–∫–∏</h3>
                <p style="margin-bottom: 15px;">–ö—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —É–±–æ—Ä–∫—É –ø–æ–º–µ—â–µ–Ω–∏–π:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('cleaningOrganization', 'staff', this)" data-field="cleaningOrganization" data-value="staff">
                        üë• <strong>–®—Ç–∞—Ç–Ω—ã–µ —É–±–æ—Ä—â–∏–∫–∏</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningOrganization', 'company', this)" data-field="cleaningOrganization" data-value="company">
                        üè¢ <strong>–ö–ª–∏–Ω–∏–Ω–≥–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è</strong><br>
                        <small>–ø–æ –¥–æ–≥–æ–≤–æ—Ä—É</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningOrganization', 'cooks', this)" data-field="cleaningOrganization" data-value="cooks">
                        üë®‚Äçüç≥ <strong>–ü–æ–≤–∞—Ä–∞ —É–±–∏—Ä–∞—é—Ç —Å–∞–º–∏</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningOrganization', 'mixed', this)" data-field="cleaningOrganization" data-value="mixed">
                        üîÑ <strong>–°–º–µ—à–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</strong><br>
                        <small>–∫—É—Ö–Ω—é –ø–æ–≤–∞—Ä–∞, –∑–∞–ª - —É–±–æ—Ä—â–∏–∫–∏</small>
                    </button>
                </div>
                
                <h3>5.2 –ú–æ—é—â–∏–µ –∏ –¥–µ–∑–∏–Ω—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞</h3>
                <div class="grid-2">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ö—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ö–∏–º–∏–µ–π:</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('cleaningSupplier', 'self', this)" data-field="cleaningSupplier" data-value="self">
                                üõí –ü–æ–∫—É–ø–∞–µ–º —Å–∞–º–∏<br>
                                <small>–≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö</small>
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningSupplier', 'supplier', this)" data-field="cleaningSupplier" data-value="supplier">
                                üìã –ü–æ—Å—Ç–∞–≤—â–∏–∫ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É<br>
                                <small>—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è</small>
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningSupplier', 'cleaning', this)" data-field="cleaningSupplier" data-value="cleaning">
                                üè¢ –ö–ª–∏–Ω–∏–Ω–≥–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è<br>
                                <small>–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç</small>
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningSupplier', 'folk', this)" data-field="cleaningSupplier" data-value="folk" style="border-color: #ef4444;">
                                üßÇ –ù–∞—Ä–æ–¥–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞<br>
                                <small>(—Å–æ–¥–∞, —É–∫—Å—É—Å –∏ —Ç.–¥.)</small>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: 600;">–î–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –º–æ—é—â–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞:</label>
                        <div class="grid">
                            <button class="btn btn-secondary" onclick="selectOption('cleaningDocs', 'full', this)" data-field="cleaningDocs" data-value="full">
                                ‚úÖ –ï—Å—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã<br>
                                <small>–Ω–∞ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞</small>
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningDocs', 'partial', this)" data-field="cleaningDocs" data-value="partial">
                                ‚ö†Ô∏è –ï—Å—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningDocs', 'none', this)" data-field="cleaningDocs" data-value="none" style="border-color: #ef4444;">
                                ‚ùå –ù–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
                            </button>
                            <button class="btn btn-secondary" onclick="selectOption('cleaningDocs', 'unknown', this)" data-field="cleaningDocs" data-value="unknown">
                                ‚ùì –ù–µ –∑–Ω–∞—é, —á—Ç–æ –Ω—É–∂–Ω—ã<br>
                                <small>–¥–æ–∫—É–º–µ–Ω—Ç—ã</small>
                            </button>
                        </div>
                    </div>
                </div>
                
                <h3>5.3 –£–±–æ—Ä–æ—á–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —É–±–æ—Ä–æ—á–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('cleaningInventory', 'colorCoded', this)" data-field="cleaningInventory" data-value="colorCoded">
                        üåà <strong>–ï—Å—Ç—å —Ü–≤–µ—Ç–æ–≤–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞</strong><br>
                        <small>—Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningInventory', 'universal', this)" data-field="cleaningInventory" data-value="universal">
                        üîÑ <strong>–ï–¥–∏–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</strong><br>
                        <small>–¥–ª—è –≤—Å–µ—Ö –ø–æ–º–µ—â–µ–Ω–∏–π</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningInventory', 'separate', this)" data-field="cleaningInventory" data-value="separate">
                        üè¢ <strong>–û—Ç–¥–µ–ª—å–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</strong><br>
                        <small>–¥–ª—è –∫—É—Ö–Ω–∏ –∏ –∑–∞–ª–∞</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('cleaningInventory', 'notConsidered', this)" data-field="cleaningInventory" data-value="notConsidered">
                        ‚ùì <strong>–ù–µ –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å –æ–± —ç—Ç–æ–º</strong>
                    </button>
                </div>
            `;
        }

        function generateStep6Content() {
            return `
                <h3>6.1 –ù–∞–ª–∏—á–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–∞—Ä—Ç</h3>
                <p style="margin-bottom: 15px;">–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å –≥–æ—Ç–æ–≤—ã–µ –¢–¢–ö (—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç—ã):</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('technicalCards', 'full', this)" data-field="technicalCards" data-value="full">
                        ‚úÖ <strong>–î–∞, –µ—Å—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –¢–¢–ö</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('technicalCards', 'partial', this)" data-field="technicalCards" data-value="partial">
                        ‚ö†Ô∏è <strong>–ï—Å—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ</strong><br>
                        <small>–Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('technicalCards', 'recipes', this)" data-field="technicalCards" data-value="recipes">
                        üìù <strong>–ï—Å—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ—Ü–µ–ø—Ç—É—Ä—ã</strong><br>
                        <small>–±–µ–∑ –¢–¢–ö</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('technicalCards', 'none', this)" data-field="technicalCards" data-value="none" style="border-color: #ef4444;">
                        ‚ùå <strong>–ù–µ—Ç, –≥–æ—Ç–æ–≤–∏–º "–ø–æ –ø–∞–º—è—Ç–∏"</strong>
                    </button>
                </div>
                
                <h3>6.2 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–ª—é–¥ –≤ –º–µ–Ω—é</h3>
                
                <h4 style="color: #667eea; margin: 20px 0 15px 0;">–•–æ–ª–æ–¥–Ω—ã–µ –±–ª—é–¥–∞ –∏ –∑–∞–∫—É—Å–∫–∏:</h4>
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'freshSalads', this)" data-field="menuCategories" data-value="freshSalads" data-multiple="true">
                        ü•ó –°–∞–ª–∞—Ç—ã –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'dressingsSalads', this)" data-field="menuCategories" data-value="dressingsSalads" data-multiple="true">
                        ü•ó –°–∞–ª–∞—Ç—ã —Å –º–∞–π–æ–Ω–µ–∑–æ–º/—Å–æ—É—Å–∞–º–∏
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'meatFishCuts', this)" data-field="menuCategories" data-value="meatFishCuts" data-multiple="true">
                        üçñ –ú—è—Å–Ω—ã–µ/—Ä—ã–±–Ω—ã–µ –Ω–∞—Ä–µ–∑–∫–∏
                    </button>
                </div>
                
                <h4 style="color: #667eea; margin: 20px 0 15px 0;">–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞:</h4>
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'meatDishes', this)" data-field="menuCategories" data-value="meatDishes" data-multiple="true">
                        ü•© –ú—è—Å–Ω—ã–µ –±–ª—é–¥–∞
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'poultryDishes', this)" data-field="menuCategories" data-value="poultryDishes" data-multiple="true">
                        üêî –ü—Ç–∏—Ü–∞
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'fishSeafood', this)" data-field="menuCategories" data-value="fishSeafood" data-multiple="true">
                        üêü –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'pizza', this)" data-field="menuCategories" data-value="pizza" data-multiple="true">
                        üçï –ü–∏—Ü—Ü–∞
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'soups', this)" data-field="menuCategories" data-value="soups" data-multiple="true">
                        üç≤ –°—É–ø—ã
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('menuCategories', 'garnish', this)" data-field="menuCategories" data-value="garnish" data-multiple="true">
                        ü•î –ì–∞—Ä–Ω–∏—Ä—ã
                    </button>
                </div>
                
                <h3>6.3 –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è</h3>
                <p style="margin-bottom: 15px;">–ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–∏:</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('cookingFeatures', 'rawEggs', this)" data-field="cookingFeatures" data-value="rawEggs" data-multiple="true" style="border-color: #ef4444;">
                        ü•ö <strong>–°—ã—Ä—ã–µ —è–π—Ü–∞</strong><br>
                        <small>(–≤ –º–∞–π–æ–Ω–µ–∑–µ, –∫—Ä–µ–º–µ, –∫–æ–∫—Ç–µ–π–ª—è—Ö)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cookingFeatures', 'rawFish', this)" data-field="cookingFeatures" data-value="rawFish" data-multiple="true" style="border-color: #ef4444;">
                        üç£ <strong>–°—ã—Ä—É—é —Ä—ã–±—É</strong><br>
                        <small>(—Å—É—à–∏, —Å–∞—à–∏–º–∏, —Å—Ç—Ä–æ–≥–∞–Ω–∏–Ω–∞)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('cookingFeatures', 'rareMeat', this)" data-field="cookingFeatures" data-value="rareMeat" data-multiple="true" style="border-color: #f39c12;">
                        ü•© <strong>–ú—è—Å–æ —Å–ª–∞–±–æ–π –ø—Ä–æ–∂–∞—Ä–∫–∏</strong><br>
                        <small>(—Å—Ç–µ–π–∫–∏ —Å –∫—Ä–æ–≤—å—é)</small>
                    </button>
                </div>
            `;
        }

        function generateStep7Content() {
            return `
                <h3>7.1 –ü–æ—Å—Ç–∞–≤—â–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h3>
                <p style="margin-bottom: 15px;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('suppliersCount', '1-2', this)" data-field="suppliersCount" data-value="1-2">
                        üè¢ <strong>1-2 –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞</strong><br>
                        <small>–≤—Å–µ –æ—Ç –æ–¥–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('suppliersCount', '3-5', this)" data-field="suppliersCount" data-value="3-5">
                        üì¶ <strong>3-5 –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤</strong><br>
                        <small>—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('suppliersCount', '6-10', this)" data-field="suppliersCount" data-value="6-10">
                        üè™ <strong>6-10 –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('suppliersCount', '10+', this)" data-field="suppliersCount" data-value="10+">
                        üìã <strong>–ë–æ–ª–µ–µ 10 –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('suppliersCount', 'retail', this)" data-field="suppliersCount" data-value="retail" style="border-color: #f39c12;">
                        üõí <strong>–ü–æ–∫—É–ø–∞–µ–º –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö/–Ω–∞ —Ä—ã–Ω–∫–µ</strong>
                    </button>
                </div>
                
                <h3>7.2 –ì—Ä–∞—Ñ–∏–∫ –ø–æ—Å—Ç–∞–≤–æ–∫</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫ —á–∞—Å—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã:</p>
                
                <div class="grid">
                    <button class="btn btn-secondary" onclick="selectOption('deliverySchedule', 'daily', this)" data-field="deliverySchedule" data-value="daily">
                        üìÖ <strong>–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('deliverySchedule', '2-3times', this)" data-field="deliverySchedule" data-value="2-3times">
                        üìÖ <strong>2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('deliverySchedule', 'weekly', this)" data-field="deliverySchedule" data-value="weekly">
                        üìÖ <strong>1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('deliverySchedule', 'ondemand', this)" data-field="deliverySchedule" data-value="ondemand">
                        üìû <strong>–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('deliverySchedule', 'self', this)" data-field="deliverySchedule" data-value="self">
                        üöó <strong>–ó–∞–∫—É–ø–∞–µ–º —Å–∞–º–∏</strong>
                    </button>
                </div>
                
                <h3>7.3 –ü—Ä–∏–µ–º–∫–∞ —Ç–æ–≤–∞—Ä–∞</h3>
                <p style="margin-bottom: 15px;">–ö—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–≤–∞—Ä –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('goodsAcceptance', 'responsible', this)" data-field="goodsAcceptance" data-value="responsible">
                        üë§ <strong>–ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</strong><br>
                        <small>–ø–æ–≤–∞—Ä, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</small>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('goodsAcceptance', 'anyone', this)" data-field="goodsAcceptance" data-value="anyone">
                        üë• <strong>–õ—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('goodsAcceptance', 'manager', this)" data-field="goodsAcceptance" data-value="manager">
                        üë®‚Äçüíº <strong>–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ª–∏—á–Ω–æ</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('goodsAcceptance', 'rotation', this)" data-field="goodsAcceptance" data-value="rotation">
                        üîÑ <strong>–ü–æ –æ—á–µ—Ä–µ–¥–∏ —Ä–∞–∑–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</strong>
                    </button>
                </div>
                
                <h3>7.4 –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫ –≤–µ–¥–µ—Ç—Å—è —É—á–µ—Ç –ø–æ—Å—Ç—É–ø–∞—é—â–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ):</p>
                
                <div class="grid-3">
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'journal', this)" data-field="documentation" data-value="journal" data-multiple="true">
                        üìã <strong>–í–µ–¥–µ–º –∂—É—Ä–Ω–∞–ª –ø—Ä–∏–µ–º–∫–∏</strong><br>
                        <small>—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'expiry', this)" data-field="documentation" data-value="expiry" data-multiple="true">
                        üìÖ <strong>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Å—Ä–æ–∫–∏ –≥–æ–¥–Ω–æ—Å—Ç–∏</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'minimal', this)" data-field="documentation" data-value="minimal" data-multiple="true" style="border-color: #ef4444;">
                        ‚ùå <strong>–ü—Ä–∏–Ω–∏–º–∞–µ–º –±–µ–∑ –æ—Å–æ–±—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫</strong>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'accounting', this)" data-field="documentation" data-value="accounting" data-multiple="true">
                        üíª <strong>–§–∏–∫—Å–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –≤ —É—á–µ—Ç–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ</strong><br>
                        <small>(1–° –∏ —Ç.–¥.)</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'mercury', this)" data-field="documentation" data-value="mercury" data-multiple="true">
                        üêÑ <strong>–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–∏—Å—Ç–µ–º—É "–ú–µ—Ä–∫—É—Ä–∏–π"</strong><br>
                        <small>–¥–ª—è –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</small>
                    </button>
                    <button class="btn btn-secondary" onclick="toggleOption('documentation', 'honestSign', this)" data-field="documentation" data-value="honestSign" data-multiple="true">
                        üè∑Ô∏è <strong>–ò—Å–ø–æ–ª—å–∑—É–µ–º "–ß–µ—Å—Ç–Ω—ã–π –∑–Ω–∞–∫"</strong><br>
                        <small>–¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</small>
                    </button>
                </div>
            `;
        }

        function generateStep8Content() {
            return `
                <h3>8.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</h3>
                <p style="margin-bottom: 15px;">–ö–ª—é—á–µ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –∫—É—Ö–Ω–µ:</p>
                
                <div class="grid-3">
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="chef" onchange="handleStaffChange(this)">
                        <span>üë®‚Äçüç≥ –®–µ—Ñ-–ø–æ–≤–∞—Ä</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="production-manager" onchange="handleStaffChange(this)">
                        <span>üìã –ó–∞–≤–µ–¥—É—é—â–∏–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="sous-chef" onchange="handleStaffChange(this)">
                        <span>üë®‚Äçüç≥ –°—É-—à–µ—Ñ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="cooks" onchange="handleStaffChange(this)">
                        <span>üë• –ü–æ–≤–∞—Ä–∞</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="kitchen-workers" onchange="handleStaffChange(this)">
                        <span>üîß –ö—É—Ö–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ/–ø–æ–º–æ—â–Ω–∏–∫–∏</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="waiters" onchange="handleStaffChange(this)">
                        <span>üë• –û—Ñ–∏—Ü–∏–∞–Ω—Ç—ã</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="dishwashers" onchange="handleStaffChange(this)">
                        <span>üçΩÔ∏è –ü–æ—Å—É–¥–æ–º–æ–π—â–∏–∫–∏</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; transition: all 0.3s ease;">
                        <input type="checkbox" name="staffStructure" value="storekeeper" onchange="handleStaffChange(this)">
                        <span>üì¶ –ö–ª–∞–¥–æ–≤—â–∏–∫</span>
                    </label>
                </div>
                
                <h3>8.2 –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∫–Ω–∏–∂–∫–∏</h3>
                <p style="margin-bottom: 15px;">–°–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–¥–∫–Ω–∏–∂–µ–∫ —É –ø–µ—Ä—Å–æ–Ω–∞–ª–∞:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('medicalBooks', 'all-current', this)" data-field="medicalBooks" data-value="all-current">
                        ‚úÖ –£ –≤—Å–µ—Ö –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ–¥–∫–Ω–∏–∂–∫–∏
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('medicalBooks', 'in-progress', this)" data-field="medicalBooks" data-value="in-progress">
                        üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è —É —á–∞—Å—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('medicalBooks', 'not-all', this)" data-field="medicalBooks" data-value="not-all" style="border-color: #ef4444;">
                        ‚ùå –ù–µ –≤—Å–µ –æ—Ñ–æ—Ä–º–∏–ª–∏
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('medicalBooks', 'not-tracking', this)" data-field="medicalBooks" data-value="not-tracking" style="border-color: #ef4444;">
                        ‚ùì –ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–¥–∫–Ω–∏–∂–µ–∫
                    </button>
                </div>
                
                <h3>8.3 –û–±—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</h3>
                <p style="margin-bottom: 15px;">–ü—Ä–æ–≤–æ–¥–∏—Ç—Å—è –ª–∏ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø–∏—â–µ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('staffTraining', 'regular', this)" data-field="staffTraining" data-value="regular">
                        ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂–∏ —Å –∑–∞–ø–∏—Å—å—é –≤ –∂—É—Ä–Ω–∞–ª
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTraining', 'onetime', this)" data-field="staffTraining" data-value="onetime">
                        üìù –†–∞–∑–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏ –ø—Ä–∏–µ–º–µ –Ω–∞ —Ä–∞–±–æ—Ç—É
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTraining', 'informal', this)" data-field="staffTraining" data-value="informal">
                        üó£Ô∏è –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTraining', 'none', this)" data-field="staffTraining" data-value="none" style="border-color: #ef4444;">
                        ‚ùå –ù–µ –ø—Ä–æ–≤–æ–¥–∏–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
                    </button>
                </div>
                
                <h3>8.4 –¢–µ–∫—É—á–µ—Å—Ç—å –∫–∞–¥—Ä–æ–≤</h3>
                <p style="margin-bottom: 15px;">–ö–∞–∫ —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è –ø–µ—Ä—Å–æ–Ω–∞–ª:</p>
                
                <div class="grid-2">
                    <button class="btn btn-secondary" onclick="selectOption('staffTurnover', 'stable', this)" data-field="staffTurnover" data-value="stable">
                        ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–ª–ª–µ–∫—Ç–∏–≤ (—É–≤–æ–ª—å–Ω–µ–Ω–∏—è —Ä–µ–¥–∫–æ)
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTurnover', 'moderate', this)" data-field="staffTurnover" data-value="moderate">
                        üîÑ –£–º–µ—Ä–µ–Ω–Ω–∞—è —Ç–µ–∫—É—á–µ—Å—Ç—å (1-2 —á–µ–ª–æ–≤–µ–∫–∞ –≤ –ø–æ–ª–≥–æ–¥–∞)
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTurnover', 'high', this)" data-field="staffTurnover" data-value="high">
                        ‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è —Ç–µ–∫—É—á–µ—Å—Ç—å (—á–∞—Å—Ç–æ –±–µ—Ä–µ–º –Ω–æ–≤—ã—Ö –ª—é–¥–µ–π)
                    </button>
                    <button class="btn btn-secondary" onclick="selectOption('staffTurnover', 'constant', this)" data-field="staffTurnover" data-value="constant">
                        üîç –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—â–µ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
                    </button>
                </div>
            `;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
        function handleStaffChange(checkbox) {
            const fieldName = checkbox.name;
            const value = checkbox.value;
            
            if (!formData[fieldName]) formData[fieldName] = [];
            
            if (checkbox.checked) {
                if (!formData[fieldName].includes(value)) {
                    formData[fieldName].push(value);
                }
                checkbox.parentElement.style.borderColor = '#667eea';
                checkbox.parentElement.style.backgroundColor = 'rgba(102, 126, 234, 0.1)';
            } else {
                formData[fieldName] = formData[fieldName].filter(item => item !== value);
                checkbox.parentElement.style.borderColor = '#ddd';
                checkbox.parentElement.style.backgroundColor = 'transparent';
            }
            
            console.log('–ü–µ—Ä—Å–æ–Ω–∞–ª:', fieldName, '=', formData[fieldName]);
            autoSaveFormData();
        }
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateStepIndicator() {
            for (let i = 1; i <= 8; i++) {
                const stepEl = document.getElementById(`step-${i}`);
                if (!stepEl) continue;
                
                stepEl.classList.remove('active', 'completed');
                
                if (i < currentStep) {
                    stepEl.classList.add('completed');
                } else if (i === currentStep) {
                    stepEl.classList.add('active');
                }
            }
        }

        function updateProgressBar() {
            const progress = (currentStep / 8) * 100;
            const progressFill = document.getElementById('progressFill');
            if (progressFill) {
                progressFill.style.width = progress + '%';
            }
        }

        function updateStepHeader() {
            const stepConfig = STEPS_CONFIG[currentStep - 1];
            const titleEl = document.getElementById('stepTitle');
            const subtitleEl = document.getElementById('stepSubtitle');
            
            if (titleEl) titleEl.textContent = stepConfig.title;
            if (subtitleEl) subtitleEl.textContent = stepConfig.subtitle;
        }

        function updateNavigationButtons() {
            const backBtn = document.getElementById('backBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            if (backBtn) {
                backBtn.style.display = currentStep === 1 ? 'none' : 'block';
            }
            
            if (nextBtn) {
                nextBtn.textContent = currentStep === 8 ? 'üéØ –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –•–ê–°–°–ü' : '–î–∞–ª–µ–µ ‚Üí';
            }
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function toggleSameAddress() {
            const checkbox = document.getElementById('sameAddress');
            const actualAddressInput = document.getElementById('actualAddress');
            const legalAddressInput = document.getElementById('legalAddress');
            
            if (checkbox && checkbox.checked && legalAddressInput) {
                if (actualAddressInput) {
                    actualAddressInput.value = legalAddressInput.value;
                    actualAddressInput.disabled = true;
                    formData.actualAddress = legalAddressInput.value;
                }
            } else if (actualAddressInput) {
                actualAddressInput.disabled = false;
            }
            autoSaveFormData();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        function generateDocuments() {
            console.log('–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏:', formData);
            
            document.getElementById('form').classList.add('hidden');
            document.getElementById('generating').classList.remove('hidden');

            const statuses = [
                '–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (30 —Å–µ–∫)...',
                'AI-–∞–Ω–∞–ª–∏–∑ –∑–∞–≤–µ–¥–µ–Ω–∏—è (1 –º–∏–Ω)...',
                '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫...',
                '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–ª–∞–Ω–∞ –•–ê–°–°–ü...',
                '–°–æ–∑–¥–∞–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª—è...',
                '–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–µ—Ä—Å–æ–Ω–∞–ª–∞...',
                '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –æ–±—É—á–µ–Ω–∏—è...',
                '–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (30 —Å–µ–∫)...'
            ];

            const details = [
                '–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö',
                '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è',
                '–í—ã—è–≤–ª—è–µ–º —Ä–∏—Å–∫–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞',
                '–°–æ–∑–¥–∞–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–ª–∞–Ω –•–ê–°–°–ü',
                '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∂—É—Ä–Ω–∞–ª—ã –ø–æ–¥ –≤–∞—à–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
                '–ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ–¥ –≤–∞—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É',
                '–°–æ—Å—Ç–∞–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –æ–±—É—á–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞',
                '–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ù–î'
            ];

            let progress = 0;
            let statusIndex = 0;

            const interval = setInterval(() => {
                progress += 12.5;
                const progressBar = document.getElementById('genProgress');
                const statusEl = document.getElementById('genStatus');
                const detailsEl = document.getElementById('genDetails');
                
                if (progressBar) {
                    progressBar.style.width = Math.min(progress, 100) + '%';
                }
                
                if (statusIndex < statuses.length && statusEl) {
                    statusEl.textContent = statuses[statusIndex];
                }
                
                if (statusIndex < details.length && detailsEl) {
                    detailsEl.textContent = details[statusIndex];
                }
                
                statusIndex++;

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        showResult();
                    }, 1000);
                }
            }, 800);
        }

        function showResult() {
            document.getElementById('generating').classList.add('hidden');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∑–∞–≤–µ–¥–µ–Ω–∏—è
            const businessName = formData.businessName || '–≤–∞—à–µ–≥–æ –∑–∞–≤–µ–¥–µ–Ω–∏—è';
            const resultTitle = document.getElementById('resultBusinessName');
            if (resultTitle) {
                resultTitle.textContent = `–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è "${businessName}"`;
            }
            
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            generateResultPreview();
            
            document.getElementById('result').classList.remove('hidden');
        }

        function generateResultPreview() {
            const preview = document.getElementById('resultPreview');
            if (!preview) return;
            
            const businessName = formData.businessName || '–í–∞—à–µ –∑–∞–≤–µ–¥–µ–Ω–∏–µ';
            const businessType = getBusinessTypeText();
            const menuItems = getMenuCount();
            const riskPoints = getRiskPointsCount();
            const journalsCount = getJournalsCount();
            const instructionsCount = getInstructionsCount();
            const pagesCount = getTotalPagesCount();
            
            preview.innerHTML = `
                <h3>üìã –í–∞—à–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã!</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>üìÑ –ü–ª–∞–Ω –•–ê–°–°–ü</strong><br>
                        <small>${pagesCount} —Å—Ç—Ä–∞–Ω–∏—Ü –¥–ª—è "${businessName}"</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>üìä –ñ—É—Ä–Ω–∞–ª—ã –∫–æ–Ω—Ç—Ä–æ–ª—è</strong><br>
                        <small>${journalsCount} –∂—É—Ä–Ω–∞–ª–æ–≤ –ø–æ–¥ –≤–∞—à —Ç–∏–ø –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>üë• –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</strong><br>
                        <small>${instructionsCount} –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>üéØ –ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤</strong><br>
                        <small>–í—ã—è–≤–ª–µ–Ω–æ ${riskPoints} –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–æ—á–µ–∫</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>üìã –ü—Ä–æ—Ü–µ–¥—É—Ä—ã –•–ê–°–°–ü</strong><br>
                        <small>${menuItems} —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                        <strong>‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</strong><br>
                        <small>–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –†–ü–ù</small>
                    </div>
                </div>
                <p style="opacity: 0.8;">–í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É ${businessType}</p>
            `;
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é
        function getBusinessTypeText() {
            const typeMap = {
                'restaurant': '—Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞',
                'cafe': '–∫–∞—Ñ–µ', 
                'canteen': '—Å—Ç–æ–ª–æ–≤–æ–π',
                'coffeehouse': '–∫–æ—Ñ–µ–π–Ω–∏',
                'bar': '–±–∞—Ä–∞',
                'fastfood': '—Ñ–∞—Å—Ç—Ñ—É–¥–∞',
                'delivery': '—Å–ª—É–∂–±—ã –¥–æ—Å—Ç–∞–≤–∫–∏',
                'bakery': '–ø–µ–∫–∞—Ä–Ω–∏/–∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–æ–π'
            };
            return typeMap[formData.businessType] || '–∑–∞–≤–µ–¥–µ–Ω–∏—è –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è';
        }

        function getMenuCount() {
            const menuCategories = formData.menuCategories || [];
            let baseCount = 12;
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–µ–Ω—é
            baseCount += menuCategories.length * 2;
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø—É –∑–∞–≤–µ–¥–µ–Ω–∏—è
            if (formData.businessType === 'restaurant') baseCount += 8;
            if (formData.businessType === 'fastfood') baseCount -= 5;
            if (formData.productionType === 'full') baseCount += 6;
            
            return Math.max(8, baseCount);
        }

        function getRiskPointsCount() {
            let riskPoints = 8; // –ë–∞–∑–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∏—Å–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
            const cookingFeatures = formData.cookingFeatures || [];
            if (cookingFeatures.includes('rawEggs')) riskPoints += 3;
            if (cookingFeatures.includes('rawFish')) riskPoints += 4;
            if (cookingFeatures.includes('rareMeat')) riskPoints += 2;
            
            if (formData.productionType === 'full') riskPoints += 5;
            if (formData.businessType === 'restaurant') riskPoints += 3;
            if (formData.seatingCapacity === '200+') riskPoints += 2;
            
            // –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—Ö–Ω–∏
            const specializations = formData.cuisineSpecialization || [];
            if (specializations.includes('asian')) riskPoints += 2;
            if (specializations.includes('children')) riskPoints += 3;
            
            return Math.min(25, riskPoints); // –ú–∞–∫—Å–∏–º—É–º 25 —Ç–æ—á–µ–∫
        }

        function getJournalsCount() {
            let journalsCount = 6; // –ë–∞–∑–æ–≤—ã–µ –∂—É—Ä–Ω–∞–ª—ã
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∂—É—Ä–Ω–∞–ª—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è
            const heating = formData.heatingEquipment || [];
            const cooling = formData.coolingEquipment || [];
            
            if (heating.length > 0) journalsCount += 2;
            if (cooling.length > 0) journalsCount += 2;
            if (heating.includes('fryer')) journalsCount += 1;
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏
            const services = formData.additionalServices || [];
            if (services.includes('ownDelivery')) journalsCount += 2;
            if (services.includes('alcohol')) journalsCount += 1;
            
            return journalsCount;
        }

        function getInstructionsCount() {
            let instructionsCount = 4; // –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
            const staff = formData.staffStructure || [];
            instructionsCount += Math.min(staff.length, 8);
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
            if (formData.businessType === 'restaurant') instructionsCount += 2;
            if (formData.seatingCapacity !== 'none') instructionsCount += 1;
            
            return instructionsCount;
        }

        function getTotalPagesCount() {
            let pages = 25; // –ë–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω –•–ê–°–°–ü
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            if (formData.productionType === 'full') pages += 8;
            if (formData.businessType === 'restaurant') pages += 5;
            
            const menuCategories = formData.menuCategories || [];
            pages += menuCategories.length;
            
            const riskPoints = getRiskPointsCount();
            pages += Math.floor(riskPoints / 2);
            
            return Math.min(45, pages); // –ú–∞–∫—Å–∏–º—É–º 45 —Å—Ç—Ä–∞–Ω–∏—Ü
        }

        function purchase() {
            const email = document.getElementById('email').value;
            if (!email) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ email');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');
                return;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º email –≤ –¥–∞–Ω–Ω—ã–µ
            formData.customerEmail = email;
            autoSaveFormData();
            
            // –î–µ–º–æ-–≤–µ—Ä—Å–∏—è
            alert(`üéâ –î–µ–º–æ –≤–µ—Ä—Å–∏—è!\n\n–í —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç:\n‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ–ø–ª–∞—Ç–µ —á–µ—Ä–µ–∑ –ÆKassa\n‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤\n‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ email: ${email}\n\nüìä –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:\n‚Ä¢ –ó–∞–≤–µ–¥–µ–Ω–∏–µ: ${formData.businessName || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}\n‚Ä¢ –¢–∏–ø: ${getBusinessTypeText()}\n‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–æ–≤: ${getTotalPagesCount()} —Å—Ç—Ä–∞–Ω–∏—Ü\n‚Ä¢ –ñ—É—Ä–Ω–∞–ª–æ–≤: ${getJournalsCount()} —à—Ç.\n\n–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –•–ê–°–°–ü –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞!`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ –•–ê–°–°–ü –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            if (loadSavedData()) {
                console.log('üìÅ –ù–∞–π–¥–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏
                setTimeout(() => {
                    if (confirm('–ù–∞–π–¥–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å?')) {
                        startForm();
                        showStep(currentStep);
                    } else {
                        // –û—á–∏—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–Ω–æ–≤–æ
                        formData = {};
                        currentStep = 1;
                        localStorage.removeItem('haccpFormData');
                        localStorage.removeItem('haccpCurrentStep');
                    }
                }, 1000);
            }
            
            // –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –ø—Ä–∏ –≤–≤–æ–¥–µ
            document.addEventListener('input', function(e) {
                if (e.target.id === 'inn') {
                    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ò–ù–ù (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)
                    e.target.value = e.target.value.replace(/\D/g, '').substring(0, 12);
                }
                
                if (e.target.id === 'phone') {
                    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                    let value = e.target.value.replace(/\D/g, '');
                    if (value.length > 0) {
                        if (value.length <= 11) {
                            value = value.replace(/^(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})$/, '+7 ($2) $3-$4-$5');
                            if (value.indexOf('+7 (') !== 0 && value.length > 1) {
                                value = '+7 (' + value.substring(1, 4) + ') ' + value.substring(4, 7) + '-' + value.substring(7, 9) + '-' + value.substring(9, 11);
                            }
                        }
                    }
                    e.target.value = value;
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
            window.addEventListener('popstate', function(event) {
                if (event.state && event.state.step) {
                    showStep(event.state.step);
                }
            });
            
            console.log('‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
        });

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ HTML
        window.startForm = startForm;
        window.nextStep = nextStep;
        window.prevStep = prevStep;
        window.selectOption = selectOption;
        window.toggleOption = toggleOption;
        window.toggleSameAddress = toggleSameAddress;
        window.handleEquipmentChange = handleEquipmentChange;
        window.handleStaffChange = handleStaffChange;
        window.generateDocuments = generateDocuments;
        window.purchase = purchase;
    </script>
</body>
</html>
